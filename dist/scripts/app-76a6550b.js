"use strict";angular.module("woodhouse",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngResource","ngRoute","ui.bootstrap"]).config(["$routeProvider",function(e){e.when("/",{templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main",resolve:{weather:["weatherService",function(e){return e.getWeather()}],calendar:["calendarService",function(e){return e.getToday()}]}}).when("/apps",{templateUrl:"app/apps/apps.html",controller:"AppsController",controllerAs:"main",resolve:{weather:["weatherService",function(e){return e.getWeather()}],apps:["appsService",function(e){return e.getApps()}]}}).otherwise({redirectTo:"/"})}]),angular.module("woodhouse").controller("NavbarController",["$location",function(e){var a=this;a.isMenuActive=function(){return"/"!==e.path()}}]),angular.module("woodhouse").service("weatherService",["$http",function(e){this.getWeather=function(){return e.get("/json/weather.json")}}]),angular.module("woodhouse").directive("clock",["dateFilter","$timeout",function(e,a){return{restrict:"E",scope:{timeFormat:"@",dateFormat:"@",template:"@"},templateUrl:function(e,a){return"app/time/time-"+a.template+".html"},controller:["$element","$attrs",function(n,t){var r,o=this;o.time="",o.date="";var i=function(){var n=Date.now();t.timeFormat&&(o.time=e(n,t.timeFormat)),t.dateFormat&&(o.date=e(n,t.dateFormat)),r=a(i,1e3)};n.bind("$destroy",function(){a.cancel(r)}),i()}],controllerAs:"clock"}}]),angular.module("woodhouse").controller("MainController",["weather","calendar",function(e,a){var n=this;n.weather=e.data,n.calendar=a,n.menuURL="#/apps"}]),angular.module("woodhouse").service("calendarService",["$http",function(e){this.getCalendar=function(){return e.get("/json/calendar.json")},this.getToday=function(){var a=e.get("/json/calendar.json").then(function(e){return _.has(e.data,"today")?e.data.today:{}});return a}}]),angular.module("woodhouse").service("appsService",["$http",function(e){this.getApps=function(){return e.get("/json/apps.json")}}]),angular.module("woodhouse").controller("AppsController",["weather","apps",function(e,a){var n=this;n.weather=e.data,n.apps=a.data,n.menuURL="#/"}]),angular.module("woodhouse").run(["$templateCache",function(e){e.put("components/navbar/navbar.html",'<nav class="navbar navbar-static-top"><div class="container-fluid"><div class="collapse navbar-collapse"><ul class="nav navbar-nav pull-right"><li class="weather"><span ng-bind="main.weather.current_observation.temp_f"></span>&deg; <img src="" ng-src="{{main.weather.current_observation.icon_url}}"></li><li><a ng-href="{{main.menuURL}}" ng-class="{\'active\': navbar.isMenuActive()}"><i class="fa fa-th-large"></i></a></li></ul></div></div></nav>'),e.put("app/apps/apps.html",'<div ng-include="" ng-controller="NavbarController as navbar" src="\'components/navbar/navbar.html\'"></div><div class="apps container"><div class="row"><div class="col-sm-2 col-md-2" ng-repeat="app in main.apps | orderBy:\'rank\'"><div class="thumbnail"><i class="fa" ng-class="app.icon"></i></div><div class="caption"><h3 ng-bind="app.name"></h3></div></div></div></div>'),e.put("app/main/main.html",'<div ng-include="" ng-controller="NavbarController as navbar" src="\'components/navbar/navbar.html\'"></div><div class="container"><div class="row"><div class="col-xs-4 col-xs-offset-4 widget"><clock time-format="hh:mm" date-format="EEE MMM dd" template="home"></clock></div></div><div class="row"><div class="col-xs-6 col-xs-offset-4 widget calendar" ng-repeat="event in main.calendar"><span class="user" ng-bind="event.assigned_to[0]"></span> <span>-</span> <span class="event" ng-bind="event.name"></span> <span>@</span> <span class="event" ng-bind="event.time | date:\'hh:mm\'"></span></div></div></div>'),e.put("app/time/time-home.html",'<div class="clock home"><p class="date" ng-bind="clock.date"></p><p class="time" ng-bind="clock.time"></p></div>')}]);